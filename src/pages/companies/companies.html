<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Play with NoMoTS api!</ion-title>
  </ion-navbar>
</ion-header>


<ion-content padding bg-light scrollbar-y-auto>
  
  <!-- API request selection -->
  <div class="selections" margin-bottom main-column center-children>
    <ion-item>
      <ion-label [color]="(!selectedEndpoint) ? 'primary' : ''" narrow>Endpoint</ion-label>
      <ion-select [ngModel]="selectedEndpoint" (ngModelChange)="onEndpointChange($event)" interface="popover">
        <ion-option *ngFor="let endpoint of apiSchema | objectKeyValue" value="{{endpoint.key}}">
          {{endpoint.key}}
        </ion-option>
      </ion-select>
    </ion-item>

    <ion-item>
      <ion-label [color]="(selectedEndpoint && !selectedAction) ? 'primary' : ''" narrow>Action</ion-label>
      <ion-select [ngModel]="selectedAction" (ngModelChange)="onActionChange($event)" interface="popover">
        <div *ngIf="selectedEndpoint">
          <ion-option *ngFor="let action of apiSchema[selectedEndpoint] | objectKeyValue" value="{{action.key}}">
            {{action.key.toUpperCase()}}
          </ion-option>
        </div>
      </ion-select>
    </ion-item>

    <ion-item text-wrap>
      <ion-label pin-top narrow gray>Description</ion-label>
      <ion-label text-right>{{selectedDescription}}</ion-label>
    </ion-item>
  </div>

  <!-- API request configuration -->
    <form #loginForm="ngForm" novalidate main-column margin-bottom>
      <ion-item *ngFor="let i of apiSchema | objectKeyValue">
        <ion-label>{{i.key}}</ion-label>
        <ion-input  [(ngModel)]="login" name="username" type="text" 
                    #username="ngModel" spellcheck="false" autocapitalize="off" required>
        </ion-input>
      </ion-item>
      <!--<p [hidden]="username.valid || submitted == false" ion-text color="danger" padding-left>
        Username is required
      </p>-->

      <div margin-top center-children>
        <button ion-button (click)="onLogin(loginForm)" type="submit" >Login</button>
      </div>
    </form>

  

  
  <!-- Prettyfied JSON response -->

</ion-content>
